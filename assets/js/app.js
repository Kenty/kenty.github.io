!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){$(function(){"use strict";var _gMenu=$("#nav-toggle"),fNote=$(".footnote"),fNote_rev=$(".reversefootnote");_gMenu.attr({role:"button","aria-haspopup":"true","aria-controls":"navigation","aria-expanded":"false"}),fNote.attr({"aria-describedby":"footnote-label"}),fNote_rev.attr({"aria-label":"Back to Content"});var openMenu=function(){_gMenu.attr({"aria-expanded":"true"})},closeMenu=function(){_gMenu.attr({"aria-expanded":"false"})};_gMenu.on("click",function(e){e.stopPropagation(),e.preventDefault(),"true"===$(this).attr("aria-expanded")?closeMenu():openMenu()})})},{}],2:[function(require,module,exports){(function(global){"undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;require("./my_sns"),require("./my_webfont"),require("./accessibility"),require("./my_init")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":1,"./my_init":3,"./my_sns":4,"./my_webfont":5}],3:[function(require,module,exports){var responsiveNav=require("responsive-nav"),smoothScroll=require("smooth-scroll"),FastClick=require("fastClick");!function(){"use strict";if("querySelector"in document&&"localStorage"in window&&"addEventListener"in window){var doc=document,win=window,nav=(doc.querySelectorAll.bind(doc),responsiveNav("#navigation",{customToggle:"#nav-toggle",openPos:"absolute",transition:300})),mask=doc.createElement("div");if(mask.className="global-nav__mask",doc.body.appendChild(mask),mask.addEventListener("touchstart",function(e){e.preventDefault(),nav.close()}),smoothScroll.init({speed:500,easing:"easeInOutQuad",offset:80}),win.location.hash){var options={speed:500,easing:"easeInOutCubic",offset:30};smoothScroll.animateScroll(null,win.location.hash,options)}win.addEventListener("load",function(){new FastClick(doc.body)},!1)}console.log(nav)}()},{fastClick:7,"responsive-nav":8,"smooth-scroll":6}],4:[function(require,module,exports){!function(){"use strict";function windowPopup(url,width,height){var left=screen.width/2-width/2,top=screen.height/2-height/2;window.open(url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+width+",height="+height+",top="+top+",left="+left)}var jsSocialShares=document.querySelectorAll(".js-social-share");jsSocialShares&&[].forEach.call(jsSocialShares,function(anchor){anchor.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),windowPopup(this.href,500,300)})})}()},{}],5:[function(require,module,exports){!function(d){var a,config={kitId:"ydl0ogs",scriptTimeout:3e3,async:!0},h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},config.scriptTimeout),tk=d.createElement("script"),f=!1,s=d.getElementsByTagName("script")[0];h.className+=" wf-loading",tk.src="//use.typekit.net/"+config.kitId+".js",tk.async=!0,tk.onload=tk.onreadystatechange=function(){if(a=this.readyState,!(f||a&&"complete"!=a&&"loaded"!=a)){f=!0,clearTimeout(t);try{Typekit.load(config)}catch(e){}}},s.parentNode.insertBefore(tk,s)}(document)},{}],6:[function(require,module,exports){(function(global){(function(module,exports,require,define,browserify_shim__define__module__export__){/*!
 * smooth-scroll v7.1.1: Animate scrolling to anchor links
 * (c) 2015 Chris Ferdinandi
 * MIT License
 * http://github.com/cferdinandi/smooth-scroll
 */
!function(root,factory){"function"==typeof define&&define.amd?define("smooth-scroll",factory(root)):"object"==typeof exports?module.exports=factory(root):root.smoothScroll=factory(root)}("undefined"!=typeof global?global:this.window||this.global,function(root){"use strict";var settings,eventTimeout,fixedHeader,headerHeight,smoothScroll={},supports="querySelector"in document&&"addEventListener"in root,defaults={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callback:function(){}},extend=function(){var extended={},deep=!1,i=0,length=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(deep=arguments[0],i++);for(var merge=function(obj){for(var prop in obj)Object.prototype.hasOwnProperty.call(obj,prop)&&(deep&&"[object Object]"===Object.prototype.toString.call(obj[prop])?extended[prop]=extend(!0,extended[prop],obj[prop]):extended[prop]=obj[prop])};length>i;i++){var obj=arguments[i];merge(obj)}return extended},getHeight=function(elem){return Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight)},getClosest=function(elem,selector){var attribute,value,firstChar=selector.charAt(0),supports="classList"in document.documentElement;for("["===firstChar&&(selector=selector.substr(1,selector.length-2),attribute=selector.split("="),attribute.length>1&&(value=!0,attribute[1]=attribute[1].replace(/"/g,"").replace(/'/g,"")));elem&&elem!==document;elem=elem.parentNode){if("."===firstChar)if(supports){if(elem.classList.contains(selector.substr(1)))return elem}else if(new RegExp("(^|\\s)"+selector.substr(1)+"(\\s|$)").test(elem.className))return elem;if("#"===firstChar&&elem.id===selector.substr(1))return elem;if("["===firstChar&&elem.hasAttribute(attribute[0])){if(!value)return elem;if(elem.getAttribute(attribute[0])===attribute[1])return elem}if(elem.tagName.toLowerCase()===selector)return elem}return null},escapeCharacters=function(id){for(var codeUnit,string=String(id),length=string.length,index=-1,result="",firstCodeUnit=string.charCodeAt(0);++index<length;){if(codeUnit=string.charCodeAt(index),0===codeUnit)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");result+=codeUnit>=1&&31>=codeUnit||127==codeUnit||0===index&&codeUnit>=48&&57>=codeUnit||1===index&&codeUnit>=48&&57>=codeUnit&&45===firstCodeUnit?"\\"+codeUnit.toString(16)+" ":codeUnit>=128||45===codeUnit||95===codeUnit||codeUnit>=48&&57>=codeUnit||codeUnit>=65&&90>=codeUnit||codeUnit>=97&&122>=codeUnit?string.charAt(index):"\\"+string.charAt(index)}return result},easingPattern=function(type,time){var pattern;return"easeInQuad"===type&&(pattern=time*time),"easeOutQuad"===type&&(pattern=time*(2-time)),"easeInOutQuad"===type&&(pattern=.5>time?2*time*time:-1+(4-2*time)*time),"easeInCubic"===type&&(pattern=time*time*time),"easeOutCubic"===type&&(pattern=--time*time*time+1),"easeInOutCubic"===type&&(pattern=.5>time?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1),"easeInQuart"===type&&(pattern=time*time*time*time),"easeOutQuart"===type&&(pattern=1- --time*time*time*time),"easeInOutQuart"===type&&(pattern=.5>time?8*time*time*time*time:1-8*--time*time*time*time),"easeInQuint"===type&&(pattern=time*time*time*time*time),"easeOutQuint"===type&&(pattern=1+--time*time*time*time*time),"easeInOutQuint"===type&&(pattern=.5>time?16*time*time*time*time*time:1+16*--time*time*time*time*time),pattern||time},getEndLocation=function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent)do location+=anchor.offsetTop,anchor=anchor.offsetParent;while(anchor);return location=location-headerHeight-offset,location>=0?location:0},getDocumentHeight=function(){return Math.max(root.document.body.scrollHeight,root.document.documentElement.scrollHeight,root.document.body.offsetHeight,root.document.documentElement.offsetHeight,root.document.body.clientHeight,root.document.documentElement.clientHeight)},getDataOptions=function(options){return options&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(options):{}},updateUrl=function(anchor,url){root.history.pushState&&(url||"true"===url)&&"file:"!==root.location.protocol&&root.history.pushState(null,null,[root.location.protocol,"//",root.location.host,root.location.pathname,root.location.search,anchor].join(""))},getHeaderHeight=function(header){return null===header?0:getHeight(header)+header.offsetTop};smoothScroll.animateScroll=function(toggle,anchor,options){var overrides=getDataOptions(toggle?toggle.getAttribute("data-options"):null),settings=extend(settings||defaults,options||{},overrides);anchor="#"+escapeCharacters(anchor.substr(1));var anchorElem="#"===anchor?root.document.documentElement:root.document.querySelector(anchor),startLocation=root.pageYOffset;fixedHeader||(fixedHeader=root.document.querySelector(settings.selectorHeader)),headerHeight||(headerHeight=getHeaderHeight(fixedHeader));var animationInterval,percentage,position,endLocation=getEndLocation(anchorElem,headerHeight,parseInt(settings.offset,10)),distance=endLocation-startLocation,documentHeight=getDocumentHeight(),timeLapsed=0;updateUrl(anchor,settings.updateURL);var stopAnimateScroll=function(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;(position==endLocation||currentLocation==endLocation||root.innerHeight+currentLocation>=documentHeight)&&(clearInterval(animationInterval),anchorElem.focus(),settings.callback(toggle,anchor))},loopAnimateScroll=function(){timeLapsed+=16,percentage=timeLapsed/parseInt(settings.speed,10),percentage=percentage>1?1:percentage,position=startLocation+distance*easingPattern(settings.easing,percentage),root.scrollTo(0,Math.floor(position)),stopAnimateScroll(position,endLocation,animationInterval)},startAnimateScroll=function(){animationInterval=setInterval(loopAnimateScroll,16)};0===root.pageYOffset&&root.scrollTo(0,0),startAnimateScroll()};var eventHandler=function(event){var toggle=getClosest(event.target,settings.selector);toggle&&"a"===toggle.tagName.toLowerCase()&&(event.preventDefault(),smoothScroll.animateScroll(toggle,toggle.hash,settings))},eventThrottler=function(event){eventTimeout||(eventTimeout=setTimeout(function(){eventTimeout=null,headerHeight=getHeaderHeight(fixedHeader)},66))};return smoothScroll.destroy=function(){settings&&(root.document.removeEventListener("click",eventHandler,!1),root.removeEventListener("resize",eventThrottler,!1),settings=null,eventTimeout=null,fixedHeader=null,headerHeight=null)},smoothScroll.init=function(options){supports&&(smoothScroll.destroy(),settings=extend(defaults,options||{}),fixedHeader=root.document.querySelector(settings.selectorHeader),headerHeight=getHeaderHeight(fixedHeader),root.document.addEventListener("click",eventHandler,!1),fixedHeader&&root.addEventListener("resize",eventThrottler,!1))},smoothScroll}),browserify_shim__define__module__export__("undefined"!=typeof smoothScroll?smoothScroll:window.smoothScroll)}).call(global,void 0,void 0,void 0,void 0,function(ex){module.exports=ex})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(require,module,exports){!function(){"use strict";/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function FastClick(layer,options){function bind(method,context){return function(){return method.apply(context,arguments)}}var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;l>i;i++)context[methods[i]]=bind(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(scrollParent=targetElement.fastClickScrollParent,!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary?!0:!1},FastClick.prototype.onTouchMove=function(event){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),targetTagName=targetElement.tagName.toLowerCase(),"label"===targetTagName){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(scrollParent=targetElement.fastClickScrollParent,scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop)?!0:(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return this.targetElement?event.forwardedTouchEvent?!0:event.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail?!0:(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion,firefoxVersion;if("undefined"==typeof window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),blackberryVersion[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]")))){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction?!0:(firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],firefoxVersion>=27&&(metaViewport=document.querySelector("meta[name=viewport]"),metaViewport&&(-1!==metaViewport.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===layer.style.touchAction||"manipulation"===layer.style.touchAction?!0:!1)},FastClick.attach=function(layer,options){return new FastClick(layer,options)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}()},{}],8:[function(require,module,exports){/*! responsive-nav.js 1.0.39
 * https://github.com/viljamis/responsive-nav.js
 * http://responsive-nav.com
 *
 * Copyright (c) 2015 @viljamis
 * Available under the MIT license
 */
!function(document,window,index){"use strict";var responsiveNav=function(el,options){var computed=!!window.getComputedStyle;computed||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"===prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},this});var nav,opts,navToggle,hasAnimFinished,isMobile,navOpen,addEvent=function(el,evt,fn,bubble){if("addEventListener"in el)try{el.addEventListener(evt,fn,bubble)}catch(e){if("object"!=typeof fn||!fn.handleEvent)throw e;el.addEventListener(evt,function(e){fn.handleEvent.call(fn,e)},bubble)}else"attachEvent"in el&&("object"==typeof fn&&fn.handleEvent?el.attachEvent("on"+evt,function(){fn.handleEvent.call(fn)}):el.attachEvent("on"+evt,fn))},removeEvent=function(el,evt,fn,bubble){if("removeEventListener"in el)try{el.removeEventListener(evt,fn,bubble)}catch(e){if("object"!=typeof fn||!fn.handleEvent)throw e;el.removeEventListener(evt,function(e){fn.handleEvent.call(fn,e)},bubble)}else"detachEvent"in el&&("object"==typeof fn&&fn.handleEvent?el.detachEvent("on"+evt,function(){fn.handleEvent.call(fn)}):el.detachEvent("on"+evt,fn))},getChildren=function(e){if(e.children.length<1)throw new Error("The Nav container has no containing elements");for(var children=[],i=0;i<e.children.length;i++)1===e.children[i].nodeType&&children.push(e.children[i]);return children},setAttributes=function(el,attrs){for(var key in attrs)el.setAttribute(key,attrs[key])},addClass=function(el,cls){0!==el.className.indexOf(cls)&&(el.className+=" "+cls,el.className=el.className.replace(/(^\s*)|(\s*$)/g,""))},removeClass=function(el,cls){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");el.className=el.className.replace(reg," ").replace(/(^\s*)|(\s*$)/g,"")},forEach=function(array,callback,scope){for(var i=0;i<array.length;i++)callback.call(scope,i,array[i])},styleElement=document.createElement("style"),htmlEl=document.documentElement,ResponsiveNav=function(el,options){var i;this.options={animate:!0,transition:284,label:"Menu",insert:"before",customToggle:"",closeOnNavClick:!1,openPos:"relative",navClass:"nav-collapse",navActiveClass:"js-nav-active",jsClass:"js",init:function(){},open:function(){},close:function(){}};for(i in options)this.options[i]=options[i];if(addClass(htmlEl,this.options.jsClass),this.wrapperEl=el.replace("#",""),document.getElementById(this.wrapperEl))this.wrapper=document.getElementById(this.wrapperEl);else{if(!document.querySelector(this.wrapperEl))throw new Error("The nav element you are trying to select doesn't exist");this.wrapper=document.querySelector(this.wrapperEl)}this.wrapper.inner=getChildren(this.wrapper),opts=this.options,nav=this.wrapper,this._init(this)};return ResponsiveNav.prototype={destroy:function(){this._removeStyles(),removeClass(nav,"closed"),removeClass(nav,"opened"),removeClass(nav,opts.navClass),removeClass(nav,opts.navClass+"-"+this.index),removeClass(htmlEl,opts.navActiveClass),nav.removeAttribute("style"),nav.removeAttribute("aria-hidden"),removeEvent(window,"resize",this,!1),removeEvent(window,"focus",this,!1),removeEvent(document.body,"touchmove",this,!1),removeEvent(navToggle,"touchstart",this,!1),removeEvent(navToggle,"touchend",this,!1),removeEvent(navToggle,"mouseup",this,!1),removeEvent(navToggle,"keyup",this,!1),removeEvent(navToggle,"click",this,!1),opts.customToggle?navToggle.removeAttribute("aria-hidden"):navToggle.parentNode.removeChild(navToggle)},toggle:function(){hasAnimFinished===!0&&(navOpen?this.close():this.open())},open:function(){navOpen||(removeClass(nav,"closed"),addClass(nav,"opened"),addClass(htmlEl,opts.navActiveClass),addClass(navToggle,"active"),nav.style.position=opts.openPos,setAttributes(nav,{"aria-hidden":"false"}),navOpen=!0,opts.open())},close:function(){navOpen&&(addClass(nav,"closed"),removeClass(nav,"opened"),removeClass(htmlEl,opts.navActiveClass),removeClass(navToggle,"active"),setAttributes(nav,{"aria-hidden":"true"}),opts.animate?(hasAnimFinished=!1,setTimeout(function(){nav.style.position="absolute",hasAnimFinished=!0},opts.transition+10)):nav.style.position="absolute",navOpen=!1,opts.close())},resize:function(){"none"!==window.getComputedStyle(navToggle,null).getPropertyValue("display")?(isMobile=!0,setAttributes(navToggle,{"aria-hidden":"false"}),nav.className.match(/(^|\s)closed(\s|$)/)&&(setAttributes(nav,{"aria-hidden":"true"}),nav.style.position="absolute"),this._createStyles(),this._calcHeight()):(isMobile=!1,setAttributes(navToggle,{"aria-hidden":"true"}),setAttributes(nav,{"aria-hidden":"false"}),nav.style.position=opts.openPos,this._removeStyles())},handleEvent:function(e){var evt=e||window.event;switch(evt.type){case"touchstart":this._onTouchStart(evt);break;case"touchmove":this._onTouchMove(evt);break;case"touchend":case"mouseup":this._onTouchEnd(evt);break;case"click":this._preventDefault(evt);break;case"keyup":this._onKeyUp(evt);break;case"focus":case"resize":this.resize(evt)}},_init:function(){this.index=index++,addClass(nav,opts.navClass),addClass(nav,opts.navClass+"-"+this.index),addClass(nav,"closed"),hasAnimFinished=!0,navOpen=!1,this._closeOnNavClick(),this._createToggle(),this._transitions(),this.resize();var self=this;setTimeout(function(){self.resize()},20),addEvent(window,"resize",this,!1),addEvent(window,"focus",this,!1),addEvent(document.body,"touchmove",this,!1),addEvent(navToggle,"touchstart",this,!1),addEvent(navToggle,"touchend",this,!1),addEvent(navToggle,"mouseup",this,!1),addEvent(navToggle,"keyup",this,!1),addEvent(navToggle,"click",this,!1),opts.init()},_createStyles:function(){styleElement.parentNode||(styleElement.type="text/css",document.getElementsByTagName("head")[0].appendChild(styleElement))},_removeStyles:function(){styleElement.parentNode&&styleElement.parentNode.removeChild(styleElement)},_createToggle:function(){if(opts.customToggle){var toggleEl=opts.customToggle.replace("#","");if(document.getElementById(toggleEl))navToggle=document.getElementById(toggleEl);else{if(!document.querySelector(toggleEl))throw new Error("The custom nav toggle you are trying to select doesn't exist");navToggle=document.querySelector(toggleEl)}}else{var toggle=document.createElement("a");toggle.innerHTML=opts.label,setAttributes(toggle,{href:"#","class":"nav-toggle"}),"after"===opts.insert?nav.parentNode.insertBefore(toggle,nav.nextSibling):nav.parentNode.insertBefore(toggle,nav),navToggle=toggle}},_closeOnNavClick:function(){if(opts.closeOnNavClick){var links=nav.getElementsByTagName("a"),self=this;forEach(links,function(i,el){addEvent(links[i],"click",function(){isMobile&&self.toggle()},!1)})}},_preventDefault:function(e){return e.preventDefault?(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),!1):void(e.returnValue=!1)},_onTouchStart:function(e){Event.prototype.stopImmediatePropagation||this._preventDefault(e),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY,this.touchHasMoved=!1,removeEvent(navToggle,"mouseup",this,!1)},_onTouchMove:function(e){(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)&&(this.touchHasMoved=!0)},_onTouchEnd:function(e){if(this._preventDefault(e),isMobile&&!this.touchHasMoved){if("touchend"===e.type)return void this.toggle();var evt=e||window.event;3!==evt.which&&2!==evt.button&&this.toggle()}},_onKeyUp:function(e){var evt=e||window.event;13===evt.keyCode&&this.toggle()},_transitions:function(){if(opts.animate){var objStyle=nav.style,transition="max-height "+opts.transition+"ms";objStyle.WebkitTransition=objStyle.MozTransition=objStyle.OTransition=objStyle.transition=transition}},_calcHeight:function(){for(var savedHeight=0,i=0;i<nav.inner.length;i++)savedHeight+=nav.inner[i].offsetHeight;var innerStyles="."+opts.jsClass+" ."+opts.navClass+"-"+this.index+".opened{max-height:"+savedHeight+"px !important} ."+opts.jsClass+" ."+opts.navClass+"-"+this.index+".opened.dropdown-active {max-height:9999px !important}";styleElement.styleSheet?styleElement.styleSheet.cssText=innerStyles:styleElement.innerHTML=innerStyles,innerStyles=""}},new ResponsiveNav(el,options)};"undefined"!=typeof module&&module.exports?module.exports=responsiveNav:window.responsiveNav=responsiveNav}(document,window,0)},{}]},{},[2]);